---
import Secondarybutton from "./Secondarybutton.astro";
---

<section class="bg-accent-500 py-[70px] px-md">
  <!---------------- Odreoversigt title med lukket x ---------------------->
  <section id="odreoversigt" class="lg:max-w-7xl mx-auto flex flex-col items-center">
    <div class="bg-neutral-300 px-xl">
      <div class="flex justify-between items-center">
        <h1 class="text-h1-mobile py-md md:px-xl lg:text-h4-desktop text-primary-400">Ordreoversigt</h1>
        <h4 class="text-primary-400 cursor-pointer font-title" id="backButton">x</h4>
      </div>

      <!------ Odreoversigt content venstre side (img) ------------------>
      <div class="md:grid md:grid-cols-2 pb-ml md:gap-ml lg:gap-2xl">
        <div class="relative">
          <div class="w-[250px] h-[250px] md:h-[300px] md:w-[300px] lg:w-[370px] lg:h-[370px] bg-accent-700 rounded-full flex items-center justify-center">
            <img src="../img/extra11.webp" alt="maltclub xl abonnement" class="mx-auto w-[300px] md:w-[400px]" />
          </div>
        </div>

        <!------ Odreoversigt content højre side (info)------------------>
        <div class="flex flex-col w-full justify-center mx-auto gap-xxxs pt-xl md:pt-none">
          <div class="flex pb-ml justify-between items-center gap-2 w-full">
            <h3 class="font-semibold text-h3-mobile">MALTCLUB EXTRA</h3>
            <h3 class="font-semibold text-h3-mobile text-right">DKK 465</h3>
          </div>
          <div class="flex justify-between items-center">
            <p>Antal</p>
            <p>1 kasse</p>
          </div>
          <div class="flex justify-between items-center">
            <p>Ølkassen</p>
            <p>9-11 øl</p>
          </div>
          <div class="flex justify-between items-center">
            <p>Levering</p>
            <p>Inkl. fragt</p>
          </div>
          <div class="pt-ml">
            <div class="w-full h-[2px] bg-primary-500 mr-sm"></div>
            <div class="flex justify-between pt-xxs">
              <h3 class="font-semibold text-h3-mobile">I alt</h3>
              <h3 class="font-semibold text-h3-mobile">DKK 465</h3>
            </div>
          </div>
          <div class="pt-sm" id="btn-bekraeft">
            <Secondarybutton variant="primary" size="small" width="large" className="sm:size-small md:size-medium lg:size-large">Bekræft og forsæt</Secondarybutton>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!--------------- Betalingkort valgmuligheder ------------------------------------>
  <section id="betalingmuligheder" class="section hidden">
    <div class="w-full max-w-7xl mx-auto flex flex-col flex-wrap mb-md items-center">
      <div class="w-full mx-auto flex flex-col justify-center items-center">
        <h1 class="text-h1-mobile lg:text-h4-desktop pb-md md:px-xl text-primary-400">Hurtig betaling</h1>
        <div class="flex flex-wrap justify-center items-center gap-xxs lg:gap-sm w-full">
          <img src="/mastercard_ikon.svg" alt="master card ikon" class="card-icon cursor-pointer w-20 h-auto md:w-30 lg:w-[150px] object-contain" />
          <img src="/visa_ikon.svg" alt="visa card ikon" class="card-icon cursor-pointer w-20 h-auto md:w-30 lg:w-[150px] object-contain" />
          <img src="/unionpay_ikon.svg" alt="unionpay card ikon" class="card-icon cursor-pointer w-20 h-auto md:w-30 lg:w-[150px] object-contain" />
        </div>

        <div class="relative w-[300px] md:w-[600px] flex items-center gap-4 pb-md">
          <div class="flex-1 border-t-2 border-primary-400"></div>
          <span class="text-h2-mobile lg:text-h5-desktop font-semibold text-primary-400">Ellers</span>
          <div class="flex-1 border-t-2 border-primary-400"></div>
        </div>

        <h1 class="text-h1-mobile pb-md lg:text-h4-desktop text-primary-400">Betal med kort</h1>
        <div class="flex flex-wrap justify-center items-center gap-xxs lg:gap-md w-full">
          <img src="/applepay_ikon.svg" alt="applepay  ikon" class="card-icon cursor-pointer w-20 h-auto md:w-30 lg:w-[150px] object-contain" />
          <img src="/googlepay_ikon.svg" alt="googlepay  ikon" class="card-icon cursor-pointer w-20 h-auto md:w-30 lg:w-[150px] object-contain" />
          <img src="/mobilepay_ikon.svg" alt="mobilepay  ikon" class="card-icon cursor-pointer w-20 h-auto md:w-30 lg:w-[150px] object-contain" />
        </div>
      </div>
    </div>
  </section>

  <!-------------------------- Formular-------------------------------->
  <section id="formular" class="section hidden bg-accent-500">
    <section class="w-full mx-auto flex flex-col pt-none">
      <!--Progress bar-->
      <div class="form w-full">
        <div class="flex items-center justify-center bg-accent-500">
          <div class="text-center">
            <div class="relative flex justify-between items-center mb-4 max-w-full w-[300px] sm:w-[400px] md:w-[600px]">
              <!-- Progress bar background -->
              <div class="bar absolute top-1/2 left-0 w-[100%] h-[4px] bg-primary-500 bg-opacity-30 transform -translate-y-1/2"></div>

              <!-- Progress bar fill -->
              <div class="absolute top-1/2 left-0 h-[4px] bg-accent-800 transform -translate-y-1/2 z-10" id="progress" style="width: 0%;"></div>

              <!-- Progress bar steps -->
              <div class="flex justify-between w-full z-20 transition-all duration-400 ease-in-out">
                <div class="Progressbar bg-accent-500 items-center flex flex-col">
                  <img src="/beer_ikon_progressbar.svg" alt="progressbar" class="inactive block w-ml h-ml" />
                  <img src="/beer_ikon_progressbar_1.svg" alt="progressbar" class="active hidden w-ml h-ml" />
                  <p class="font-title text-body-sm">1.Kontakt</p>
                </div>
                <div class="Progressbar bg-accent-500 items-center flex flex-col">
                  <img src="/beer_ikon_progressbar.svg" alt="progressbar" class="inactive block w-ml h-ml" />
                  <img src="/beer_ikon_progressbar_2.svg" alt="progressbar" class="active hidden w-ml h-ml" />
                  <p class="font-title text-body-sm">2.Adresse</p>
                </div>
                <div class="Progressbar bg-accent-500 items-center flex flex-col">
                  <img src="/beer_ikon_progressbar.svg" alt="progressbar" class="inactive block w-ml h-ml" />
                  <img src="/beer_ikon_progressbar_3.svg" alt="progressbar" class="active hidden w-ml h-ml" />
                  <p class="font-title text-body-sm">3.Levering</p>
                </div>
                <div class="Progressbar bg-accent-500 items-center flex flex-col">
                  <img src="/beer_ikon_progressbar.svg" alt="progressbar" class="inactive block w-ml h-ml" />
                  <img src="/beer_ikon_progressbar_4.svg" alt="progressbar" class="active hidden w-ml h-ml" />
                  <p class="font-title text-body-sm">4.Betaling</p>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Form start---->
        <div class="flex mx-auto items-center justify-center" x-data="{ 
         email: '', 
         isValid: false,
         touched: false,
         validateEmail() {
           if (!this.email.trim()) {
             this.isValid = false;
             return;
           }
           const pattern = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/;
           this.isValid = pattern.test(this.email);}}">
          <form class="flex flex-col w-full md:w-[600px] lg:py-md" action="/submit_form" method="POST" autocomplete="on" accept-charset="UTF-8" ;>
            <!-- 1. step-- -->
            <article class="step">
              <h1 class="text-h1-mobile py-xs lg:text-h4-desktop text-primary-400">Kontaktoplysninger</h1>

              <div class="flex flex-col lg:pt-sm">
                <label for="email" class="text-primary-400"><h5 class="md:text-h5-mobile">E-mail <span class="text-accent-800">*</span></h5></label>
                <div class="pt-xxs">
                  <input type="email" id="email" name="email" placeholder="maltclub@gmail.com" required x-model="email" @input="validateEmail()" @blur="touched = true; validateEmail()" class="w-full px-xs py-xxs text-primary-500 bg-neutral-200 placeholder:text-primary-500/50 focus:outline focus:border-primary-500/40" :class="{'border-red-500': touched && !isValid,'border-green-600': touched && isValid && email.trim()}" />

                  <!-- emty fild error message -->
                  <div x-show="touched && !email.trim()" class="text-red-500 text-xs my-1 flex gap-xxs transition-all duration-300 ease-in-out opacity-0 transform translate-y-2" :class="{ 'opacity-100 translate-y-0': touched && !email.trim() }">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="size-4">
                      <path fill-rule="evenodd" d="M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14ZM8 4a.75.75 0 0 1 .75.75v3a.75.75 0 0 1-1.5 0v-3A.75.75 0 0 1 8 4Zm0 8a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z" clip-rule="evenodd"></path>
                    </svg>
                    Dette felt er påkrævet
                  </div>

                  <!-- email error message -->
                  <div x-show="touched && email.trim() && !isValid" class="text-red-500 text-xs my-1 transition-all duration-300 ease-in-out opacity-0 transform translate-y-2 gap-xxs flex" :class="{ 'opacity-100 translate-y-0': touched && email.trim() && !isValid }">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="size-4">
                      <path fill-rule="evenodd" d="M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14ZM8 4a.75.75 0 0 1 .75.75v3a.75.75 0 0 1-1.5 0v-3A.75.75 0 0 1 8 4Zm0 8a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z" clip-rule="evenodd"></path>
                    </svg>
                    Venligst indtast en gyldig e-mail
                  </div>

                  <!-- valid email message -->
                  <div x-show="touched && isValid" class="text-green-600 text-xs my-1 transition-all duration-300 ease-in-out opacity-0 transform translate-y-2 flex gap-xxs" :class="{ 'opacity-100 translate-y-0': touched && isValid }">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="size-4">
                      <path fill-rule="evenodd" d="M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14Zm3.844-8.791a.75.75 0 0 0-1.188-.918l-3.7 4.79-1.649-1.833a.75.75 0 1 0-1.114 1.004l2.25 2.5a.75.75 0 0 0 1.15-.043l4.25-5.5Z" clip-rule="evenodd"></path>
                    </svg>
                    Det er en gyldig e-mail
                  </div>
                </div>
              </div>

              <div class="flex items-baseline gap-xxs pt-xxs">
                <input type="checkbox" id="checkbox" name="checkbox" value="checkbox" class="bg-neutral-200 border-0 rounded-[2px]" />
                <label for="checkbox" class="text-primary-400"> Send mails til mig om nyheder og tilbud</label>
              </div>
              <label for="maltclub" class="pt-sm text-primary-400"><h5 class="md:text-h5-mobile">Telefonnummer <span class="text-accent-800">*</span></h5></label>
              <div class="pt-xxs">
                <input type="text" id="telefon" name="telefon" placeholder="+45 11 22 33" class="w-full px-xs py-xxs border-[0px] text-primary-500 bg-neutral-200" />
              </div>
            </article>

            <!-- 2. step-- -->
            <article class="step">
              <h1 class="flex w-full pt-sm pb-ml text-h1-mobile lg:text-h4-desktop text-primary-400">Adresse</h1>
              <div class="flex flex-col">
                <div class="flex flex-col md:grid md:grid-cols-2 md:gap-md">
                  <div>
                    <label for="fornavn" class="pb-xxs text-primary-400"><h5 class="md:text-h5-mobile">Fornavn <span class="text-accent-800">*</span></h5></label>
                    <div class="pt-xxs">
                      <input type="text" id="fornavn" name="fornavn" placeholder="Lars" class="w-full px-xs py-xxs border-[0px] text-primary-500 bg-neutral-200" />
                    </div>
                  </div>
                  <div class="py-xxs md:py-none">
                    <label for="efternavn" class="text-primary-400"><h5 class="md:text-h5-mobile">Efternavn <span class="text-accent-800">*</span></h5></label>
                    <div class="pt-xxs">
                      <input type="text" id="efternavn" name="efternavn" placeholder="Jensen" class="w-full px-xs py-xxs border-[0px] text-primary-500 bg-neutral-200" />
                    </div>
                  </div>
                </div>
                <label for="firma" class="text-primary-400"><h5 class="md:text-h5-mobile md:pt-xxs">Firma (valgfri)</h5></label>
                <div class="pt-xxs">
                  <input type="text" id="fornavn" name="fornavn" placeholder="Jensen" class="w-full px-xs py-xxs border-[0px] text-primary-500 bg-neutral-200" />
                </div>
                <label for="adresse" class="py-xxs md:py-xxs text-primary-400"><h5 class="md:text-h5-mobile">Adresses<span class="text-accent-800">*</span></h5></label>
                <div class="">
                  <input type="text" id="adresse" name="adresse" placeholder="Engersleve 82" class="w-full px-xs py-xxs border-[0px] text-primary-500 bg-neutral-200" />
                </div>
                <div class="flex flex-col md:grid md:grid-cols-2 md:gap-md">
                  <div class="pt-xxs">
                    <label for="postnummer" class="pb-xxs pt-md text-primary-400"><h5 class="md:text-h5-mobile">Postnummer<span class="text-accent-800">*</span></h5></label>
                    <div class="py-xxs">
                      <input type="text" id="postnummer" name="postnummer" placeholder="2981" class="w-full px-xs py-xxs border-[0px] text-primary-500 bg-neutral-200" />
                    </div>
                  </div>
                  <div class="pb-xxs md:pt-xxs">
                    <label for="by" class="pb-xxs pt-md text-primary-400"><h5 class="md:text-h5-mobile">By<span class="text-accent-800">*</span></h5></label>
                    <div class="pt-xxs">
                      <input type="text" id="by" name="by" placeholder="Almind" class="w-full px-xs py-xxs border-[0px] text-primary-500 bg-neutral-200" />
                    </div>
                  </div>
                </div>
                <label for="land" class="pb-xxs text-primary-400"><h5 class="md:text-h5-mobile">Land / områder<span class="text-accent-800">*</span></h5></label>
                <select id="event" class="w-full p-2 border bg-neutral-200 border-neutral-200 text-primary-500/60" required onchange="this.className = this.value ? 'w-full border bg-neutral-200 border-neutral-200 text-primaty-500' : 'w-full border border-neutral-200 '" name="Land" aria-placeholder="Land / områder">
                  <option value="Vælg en mulighed her*">Vælg en mulighed her*</option>
                  <option value="Danmark">Danmark</option>
                  <option value="Sverige">Sverige</option>
                  <option value="Norge">Norge</option>
                </select>
              </div>
            </article>

            <!-- 3. step-- -->
            <article class="step items-center flex flex-col">
              <h3 class="flex w-full items-center flex-col pt-sm pb-ml text-h1-mobile lg:text-h4-desktop text-primary-400">Leveringsmetode</h3>
              <!-- First Option -->
              <div class="hidden md:flex md:gap-xxs md:items-center md:flex-row md:justify-evenly mb-md w-full">
                <label class="w-full gap-sm py-sm px-sm sm:flex sm:flex-row bg-neutral-200 has-[:checked]:bg-neutral-300 has-[:checked]:text-primary-400 has-[:checked]:ring-indigo-200">
                  <div class="pt-xxs">
                    <input type="radio" id="radio-1" class="checked:border-indigo-500 px-sm transform scale-150 toggle-radio" />
                  </div>
                  <div class="flex flex-col gap-xxs w-full">
                    <h3 class="text-h3-mobile">Levering</h3>
                    <div class="flex gap-xs items-center flex-wrap">
                      <p class="text-primary-500 opacity-60 font-semibold text-body-md">PostNord</p>
                      <div class="border-r-2 border-primary-500 border-opacity-60 h-xs"></div>
                      <p class="text-primary-500 opacity-60 font-semibold text-body-md">Pakkeshop</p>
                    </div>
                  </div>
                  <div class="flex flex-col gap-xxs w-full items-end">
                    <h3 class="text-h3-mobile">62,50 DKK</h3>
                    <p class="text-primary-500 opacity-60 text-body-md font-semibold">Inkl. moms</p>
                  </div>
                </label>
              </div>
              <!-- Second Option -->
              <div class="hidden md:flex md:gap-xxs md:items-center md:flex-row md:justify-evenly mb-md w-full">
                <label class="w-full gap-sm py-sm px-sm sm:flex sm:flex-row bg-neutral-200 has-[:checked]:bg-neutral-300 has-[:checked]:text-primary-400 has-[:checked]:ring-indigo-200">
                  <div class="pt-xxs">
                    <input type="radio" id="radio-2" class="checked:border-indigo-500 px-sm transform scale-150 toggle-radio" />
                  </div>
                  <div class="flex flex-col gap-xxs w-full">
                    <h3 class="text-h3-mobile">Levering</h3>
                    <div class="flex gap-xs items-center flex-wrap">
                      <p class="text-primary-500 opacity-60 font-semibold text-body-md">PostNord</p>
                      <div class="border-r-2 border-primary-500 border-opacity-60 h-xs"></div>
                      <p class="text-primary-500 opacity-60 font-semibold text-body-md">Levering til døren</p>
                    </div>
                  </div>
                  <div class="flex flex-col gap-xxs w-full items-end">
                    <h3 class="text-h3-mobile">112,50 DKK</h3>
                    <p class="text-primary-500 opacity-60 text-body-md font-semibold">Inkl. moms</p>
                  </div>
                </label>
              </div>
              <!-- Third Option -->
              <div class="hidden md:flex md:gap-xxs md:items-center md:flex-row md:justify-evenly mb-md w-full">
                <label class="w-full gap-sm py-sm px-sm sm:flex sm:flex-row bg-neutral-200 has-[:checked]:bg-neutral-300 has-[:checked]:text-primary-400 has-[:checked]:ring-indigo-200">
                  <div class="pt-xxs">
                    <input type="radio" id="radio-3" class="checked:border-indigo-500 px-sm transform scale-150 toggle-radio" />
                  </div>
                  <div class="flex flex-col gap-xxs w-full">
                    <h3 class="text-h3-mobile">Afhentning på lager. 2981 Almind</h3>
                    <div class="flex gap-xs items-center flex-wrap">
                      <p class="text-primary-500 opacity-60 font-semibold text-body-md">Du vil blive kontaktet når din ordre er klar</p>
                    </div>
                  </div>
                  <div class="flex flex-col gap-xxs w-full items-end">
                    <h3 class="text-h3-mobile">0,00 DKK</h3>
                  </div>
                </label>
              </div>

              <!-- Mobile -->
              <div class="flex gap-xxxs items-center flex-col w-full pb-xs md:hidden">
                <!-- Delivery Information -->
                <label class="w-full grid grid-cols-[5%,95%] gap-xs py-sm px-sm bg-neutral-200 has-[:checked]:bg-neutral-300 has-[:checked]:text-primary-400 has-[:checked]:ring-indigo-200">
                  <div class="pt-xxs sm:pt-none">
                    <input type="radio" id="radio" class="w-4 h-4 checked:border-indigo-500 toggle-radio" />
                  </div>
                  <div class="flex flex-col gap-xxxs w-full col-start-2">
                    <div>
                      <!-- Delivery Option Title -->
                      <h3 class="text-h3-mobile">Levering</h3>
                      <div class="flex gap-xxxs items-center flex-wrap">
                        <!-- Delivery Service Provider -->
                        <p class="text-primary-500 opacity-60 font-semibold text-body-md">PostNord</p>
                        <div class="border-r-2 border-primary-500 border-opacity-60 h-xs"></div>
                        <!-- Delivery Method -->
                        <p class="text-primary-500 opacity-60 font-semibold text-body-md">Pakkeshop</p>
                      </div>
                    </div>
                    <div class="flex gap-xxs w-full">
                      <!-- Price -->
                      <h3 class="text-h3-mobile">62,50 DKK</h3>
                      <p class="text-primary-500 opacity-60 text-body-md font-semibold">Inkl.moms</p>
                    </div>
                  </div>
                </label>
              </div>

              <div class="flex gap-xxxs items-center flex-col w-full pb-xs md:hidden">
                <!-- Delivery Information -->
                <label class="w-full grid grid-cols-[5%,95%] gap-xs py-sm px-sm bg-neutral-200 has-[:checked]:bg-neutral-300 has-[:checked]:text-primary-400 has-[:checked]:ring-indigo-200">
                  <div class="pt-xxs sm:pt-none">
                    <input type="radio" id="radio" class="w-4 h-4 checked:border-indigo-500 toggle-radio" />
                  </div>
                  <div class="flex flex-col gap-xxxs w-full col-start-2">
                    <div>
                      <!-- Delivery Option Title -->
                      <h3 class="text-h3-mobile">Levering</h3>
                      <div class="flex gap-xxxs items-center flex-wrap">
                        <!-- Delivery Service Provider -->
                        <p class="text-primary-500 opacity-60 font-semibold text-body-md">PostNord</p>
                        <div class="border-r-2 border-primary-500 border-opacity-60 h-xs"></div>
                        <!-- Delivery Method -->
                        <p class="text-primary-500 opacity-60 font-semibold text-body-md">Levering til døren</p>
                      </div>
                    </div>
                    <div class="flex gap-xxs w-full">
                      <!-- Price -->
                      <h3 class="text-h3-mobile">112,50 DKK</h3>
                      <p class="text-primary-500 opacity-60 text-body-md font-semibold">Inkl.moms</p>
                    </div>
                  </div>
                </label>
              </div>

              <div class="flex gap-xxxs items-center flex-col w-full pb-xs md:hidden">
                <!-- Pickup Information -->
                <label class="w-full grid grid-cols-[5%,95%] gap-xxs py-xs px-sm bg-neutral-200 has-[:checked]:bg-neutral-300 has-[:checked]:text-primary-400 has-[:checked]:ring-indigo-200 items-start">
                  <div class="pt-xxs sm:pt-none">
                    <input type="radio" id="radio" class="w-4 h-4 checked:border-indigo-500 toggle-radio" />
                  </div>
                  <div class="flex flex-col gap-xxs w-full col-start-2 px-xxxs">
                    <!-- Pickup Location Title -->
                    <h3 class="text-h3-mobile">Afhentning på lager. 2981 Almind</h3>
                    <p class="text-primary-500 opacity-60 font-semibold text-body-md">Du vil blive kontaktet når din ordre er klar</p>
                    <!-- Price -->
                    <h3 class="text-h3-mobile">0,00 DKK</h3>
                  </div>
                </label>
              </div>
            </article>

            <!-- 4. step-- -->
            <article class="step pt-sm">
              <h1 class="text-h1-mobile pb-sm lg:text-h4-desktop text-primary-400">Betaling</h1>

              <div class="flex flex-col">
                <div>
                  <label for="kortnummer" class="pb-xxs text-primary-400"><h5 class="md:text-h5-mobile">Kortnummer <span class="text-accent-800">*</span></h5></label>
                  <div class="pt-xxs">
                    <input type="text" id="kortnummer" name="kortnummer" placeholder=" 1234 5678 0987 6543" class="w-full px-xs py-xxs border-[0px] text-primary-500 bg-neutral-200" />
                  </div>
                </div>
                <div class="flex flex-col md:grid md:grid-cols-2 md:gap-md">
                  <div class="py-xxs">
                    <label for="Uløbsdato" class="pb-xxs text-primary-400"><h5 class="md:text-h5-mobile">Uløbsdato (MM / ÅÅ) <span class="text-accent-800">*</span></h5></label>
                    <div class="pt-xxs">
                      <input type="text" id="Uløbsdato" name="Uløbsdato" placeholder=" 12/24" class="w-full px-xs py-xxs border-[0px] text-primary-500 bg-neutral-200" />
                    </div>
                  </div>
                  <div class="md:py-xxs">
                    <label for="Sikkerhedskode" class="text-primary-400"><h5 class="md:text-h5-mobile">Sikkerhedskode (CVV)<span class="text-accent-800">*</span></h5></label>
                    <div class="pt-xxs">
                      <input type="text" id="Sikkerhedskode" name="Sikkerhedskode" placeholder="123" class="w-full px-xs py-xxs border-[0px] text-primary-500 bg-neutral-200" />
                    </div>
                  </div>
                </div>
                <div class="py-xxs md:py-none">
                  <label for="kortnavn" class="pb-xxs text-primary-400"><h5 class="md:text-h5-mobile">Navn på kort<span class="text-accent-800">*</span></h5></label>
                  <div class="pt-xxs">
                    <input type="text" id="kortnavn" name="kortnavn" placeholder="Lars Jensen" class="w-full px-xs py-xxs border-[0px] text-primary-500 bg-neutral-200" />
                  </div>
                </div>
                <div class="flex items-baseline gap-xxs pt-xs">
                  <input type="checkbox" id="checkbox" name="checkbox" value="checkbox" class="bg-neutral-200 border-0 rounded-[2px]" />
                  <label for="checkbox" class="text-primary-400"> Brug leveringsadresse som faktureringsadresse</label>
                </div>
              </div>
            </article>
          </form>
        </div>
      </div>
      <!-- Buttons til progress -->
      <div class="flex justify-center gap-ml py-md">
        <button class="btn bg-primary-400 px-s py-xxs rounded-sm hover:bg-primary-300 text-neutral-100 disabled:bg-gray-300 disabled:cursor-not-allowed" id="prev" disabled>Prev</button>
        <button class="btn bg-primary-400 px-s py-xxs rounded-sm hover:bg-primary-300 text-neutral-100 disabled:bg-gray-300 disabled:cursor-not-allowed" id="next">Next</button>
      </div>
    </section>
  </section>

  <!-- 5. step---->
  <article class="step flex flex-col items-center mx-auto justify-center -mt-[5.5rem]">
    <div class="flex md:flex-row items-center justify-center gap-sm">
      <h3 class="flex text-h1-mobile lg:text-h4-desktop text-primary-500">Betaling gennemført!</h3>
      <div class="udfort">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-ml text-primary-400">
          <path fill-rule="evenodd" d="M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm13.36-1.814a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z" clip-rule="evenodd"></path>
        </svg>
      </div>
    </div>
    <div class="mx-auto flex justify-center py-ml">
      <img src="/beer_ikon_progressbar_5.svg" alt="gennemført formular" class="w-[200px]" />
    </div>
    <p class="w-[300px] md:w-[450px] md:text-body-lg">Vi har hermed modtaget din ordre, og vil behandle din pakke hurtigst muligt.</p>
    <div class="py-ml">
      <Secondarybutton variant="primary" size="medium" width="medium" link="/" className="sm:size-small md:size-medium lg:size-large">Gå til forsiden</Secondarybutton>
    </div>
  </article>
</section>

<script>
  //Step 3. selected//
  document.querySelectorAll(".toggle-radio").forEach((radio) => {
    radio.addEventListener("click", function () {
      // Sporer den tidligere tilstand
      if (this.checked) {
        this.wasChecked = this.wasChecked ? false : true;
        this.checked = this.wasChecked;
      }
    });
  });

  //odreoversigt til x
  document.getElementById("backButton").addEventListener("click", function () {
    history.back(); // Navigerer tilbage til forrige side
  });
  //odreoversigt til betalingsmuligheder hændelse//
  let currentSection = 0; // start første section

  const sections = [document.getElementById("odreoversigt"), document.getElementById("betalingmuligheder"), document.getElementById("formular")];

  // vis første section
  sections[currentSection].classList.remove("hidden");

  // button klik hændelse (den første section)//
  document.getElementById("btn-bekraeft").addEventListener("click", function () {
    sections[currentSection].classList.add("hidden");
    currentSection = 1;
    sections[currentSection].classList.remove("hidden");
  });

  // betalingmuligheders card ikons klik hændelse//
  const cardIcons = document.querySelectorAll(".card-icon");
  cardIcons.forEach((icon) => {
    icon.addEventListener("click", function () {
      sections[currentSection].classList.add("hidden");
      currentSection = 2;
      sections[currentSection].classList.remove("hidden");
    });
  });
  //progressbar med formular//
  const nextButton = document.getElementById("next") as HTMLButtonElement;
  const prevButton = document.getElementById("prev") as HTMLButtonElement;
  const steps = document.querySelectorAll(".step");
  const progressBar = document.getElementById("progress") as HTMLElement;
  const stepImgs = document.querySelectorAll(".Progressbar"); //progressbar ikons
  const bar = document.querySelector(".bar") as HTMLElement;

  let currentStep = 0; //

  // Initialiseringsfunktion
  function updateStep() {
    // Skjul alle trin og vis kun det nuværende trin
    steps.forEach((step, index) => {
      if (index === currentStep) {
        step.classList.remove("hidden");
      } else {
        step.classList.add("hidden");
      }
    });

    // Update progress bar
    const progress = (currentStep / (steps.length - 1)) * 100;
    progressBar.style.width = `${progress}%`;

    // Aktivér billeder for hvert trin
    stepImgs.forEach((Progressbar, idx) => {
      const images = Progressbar.querySelectorAll("img");

      if (idx < currentStep) {
        images[0].classList.add("hidden");
        images[1].classList.remove("hidden");
      } else {
        images[0].classList.remove("hidden");
        images[1].classList.add("hidden");
      }
    });

    // Aktiver/deaktiver knapper
    prevButton.disabled = currentStep === 0;
    nextButton.disabled = currentStep === steps.length - 1;

    // Den sidste step - skjul progressbar og knapper
    if (currentStep === steps.length - 1) {
      progressBar.classList.add("hidden");
      nextButton.classList.add("hidden");
      prevButton.classList.add("hidden");
      bar.classList.add("hidden");
      stepImgs.forEach((icon) => {
        icon.classList.add("hidden");
      });
    } else {
      progressBar.classList.remove("hidden");
      nextButton.classList.remove("hidden");
      prevButton.classList.remove("hidden");
      bar.classList.remove("hidden");
      stepImgs.forEach((icon) => {
        icon.classList.remove("hidden");
      });
    }
  }

  // "Next" button click event
  nextButton.addEventListener("click", () => {
    if (currentStep < steps.length - 1) {
      currentStep++;
      updateStep(); // status update
    }
  });

  // "Prev" button click event
  prevButton.addEventListener("click", () => {
    if (currentStep > 0) {
      currentStep--;
      updateStep(); // status update
    }
  });

  // Opdater den indledende tilstand
  updateStep();
</script>
